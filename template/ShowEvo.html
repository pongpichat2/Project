<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    

    <style>
        .ShowStatus{
            margin: 5% 33%;
            width: 700px;
            height: 500px;
            background: rgba(37, 37, 37, 0.527);
            position: absolute;
        }
    </style>
</head>
<body>
    <h1>Show Development</h1>

    <!-- รายชื่อ Member ที่อยู่ในรายวิชา -->
    <div class="ShowName-Mem">
        <table border="2px">
            <thead>
                <tr>
                    <td> Stu_Code </td>
                    <td> Username </td>
                    <td> Name </td>
                </tr>
            </thead>
            <tbody>
                {% for Member in ShowData.each() %}
                <form action="/ShowEvo" method="POST">

                    <tr>
                        <td><input type="text" value="{% print(Member.val()['Stu_Code'])%}" name="Stu_Code" readonly></td>
                        <td><input type="text" name="Username" id="" value="{%print(Member.key())%}" readonly></td>
                        <td><input type="text" value="{%print(Member.val()['Name'])%}" name="Name" readonly></td>
                        <td><button type="submit" value="View" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">View</button></td>
                    </tr>
                    </form>

                {% endfor %}
            </tbody>

        </table>

    </div>

    <form action="/testPage" method="POST">
        
    <div class="ShowStatus">
        <h2>{{SubName}}</h2>
        <p>Student Code : {{StuCode}} <br> Name : {{NAME}} </p>
        <button type="Submit" name="Name_Game" value="Game1">G1</button> 
        <button type="Submit" name="Name_Game" value="Game2">G2</button> 
        <button type="Submit" name="Name_Game" value="Game3">G3</button>

    </form>

    <!-- show chart -->
    
    
    {% if Text %}
        <h1>{{Text}}</h1>

    {% else %}
        <h2>{{NameGmae}}</h2>
        <div class="chart-container" style="position: relative; height:10vh; width:30vw">
            <canvas id="myChart"></canvas>
        </div>
    {% endif %}


    <script>

var ctx = document.getElementById('myChart').getContext('2d');
        console.log(ctx);
        var ShowData = $.get('/dataChart');
        
        ShowData.done(function(result){
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: result.LengthData,
                    datasets: [{
                        data :result.ChartData,
                        backgroundColor:[
                            'rgb(255, 165, 0)'
                        ],
                        borderWidth:3,
                        borderColor:'#777',
                        hoverBorderWidth:10,
                        hoverBorderColor:'#000'}
                        
                        ]},
                        
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                max: 60,
                                min: 0,
                                stepSize: 10
                            }
                        }]
                    }
                }
            });
    }
    );
    </script>

    </div>
</body>
</html>